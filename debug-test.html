<!DOCTYPE html>
<html>
<head>
    <title>Debug Test</title>
</head>
<body>
    <h1>Debug Test - Building Progress</h1>
    <div id="output"></div>
    
    <script>
        // Copy the exact building progress function from landmarks.ts
        function getBuildingProgress(day, structure) {
            console.log(`getBuildingProgress called: day=${day}, structure=${structure}`);
            
            if (structure === 'man') {
                if (day <= 1) {
                    console.log('Man: Day 1 or less, returning 0 progress');
                    return { progress: 0, isBurning: false, isBurned: false };
                }
                if (day === 2) return { progress: 0.1, isBurning: false, isBurned: false };
                if (day === 3) return { progress: 0.3, isBurning: false, isBurned: false };
                if (day === 4) return { progress: 0.5, isBurning: false, isBurned: false };
                if (day === 5) return { progress: 0.7, isBurning: false, isBurned: false };
                if (day === 6) return { progress: 0.9, isBurning: false, isBurned: false };
                if (day === 7) return { progress: 1.0, isBurning: false, isBurned: false };
                if (day === 8) return { progress: 1.0, isBurning: true, isBurned: false, handsUp: true };
                if (day >= 9) return { progress: 0, isBurning: false, isBurned: true };
                return { progress: 0, isBurning: false, isBurned: false };
            } else if (structure === 'temple') {
                if (day <= 1) {
                    console.log('Temple: Day 1 or less, returning 0 progress');
                    return { progress: 0, isBurning: false, isBurned: false };
                }
                if (day === 2) return { progress: 0.15, isBurning: false, isBurned: false };
                if (day === 3) return { progress: 0.35, isBurning: false, isBurned: false };
                if (day === 4) return { progress: 0.55, isBurning: false, isBurned: false };
                if (day === 5) return { progress: 0.75, isBurning: false, isBurned: false };
                if (day === 6) return { progress: 0.9, isBurning: false, isBurned: false };
                if (day === 7) return { progress: 1.0, isBurning: false, isBurned: false };
                if (day === 8) return { progress: 1.0, isBurning: false, isBurned: false };
                if (day === 9) return { progress: 1.0, isBurning: true, isBurned: false };
                if (day >= 10) return { progress: 0, isBurning: false, isBurned: true };
                return { progress: 0, isBurning: false, isBurned: false };
            }
            return { progress: 0, isBurning: false, isBurned: false };
        }
        
        // Test the function
        console.log('=== TESTING BUILDING PROGRESS ===');
        
        const manDay1 = getBuildingProgress(1, 'man');
        const templeDay1 = getBuildingProgress(1, 'temple');
        
        document.getElementById('output').innerHTML = `
            <h2>Day 1 Results:</h2>
            <p><strong>Man Progress:</strong> ${manDay1.progress} (should be 0)</p>
            <p><strong>Temple Progress:</strong> ${templeDay1.progress} (should be 0)</p>
            
            <h2>Day 2 Results:</h2>
        `;
        
        const manDay2 = getBuildingProgress(2, 'man');
        const templeDay2 = getBuildingProgress(2, 'temple');
        
        document.getElementById('output').innerHTML += `
            <p><strong>Man Progress:</strong> ${manDay2.progress} (should be 0.1)</p>
            <p><strong>Temple Progress:</strong> ${templeDay2.progress} (should be 0.15)</p>
        `;
        
        if (manDay1.progress === 0 && templeDay1.progress === 0) {
            document.getElementById('output').innerHTML += `
                <h2 style="color: green;">✅ Function works correctly!</h2>
            `;
        } else {
            document.getElementById('output').innerHTML += `
                <h2 style="color: red;">❌ Function has issues!</h2>
            `;
        }
    </script>
</body>
</html>
